{% extends 'admin/base.html' %}

{% block title %}Paramètres - Admin{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Paramètres du restaurant</h1>
<form method="post">
    {{ csrf_token() }}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
            <label class="block text-sm font-medium">Capacité totale</label>
            <input type="number" name="capacity" value="{{ capacity }}" class="mt-1 block w-full" />
        </div>
        <div>
            <label class="block text-sm font-medium">Durée moyenne table (minutes)</label>
            <input type="number" name="table_duration" value="{{ table_duration }}" class="mt-1 block w-full" />
        </div>
        <div>
            <label class="block text-sm font-medium">Délai min réservation (heures)</label>
            <input type="number" name="reservation_min_hours" value="{{ reservation_min_hours }}" class="mt-1 block w-full" />
        </div>
        <div>
            <label class="block text-sm font-medium">Délai max réservation (jours)</label>
            <input type="number" name="reservation_max_days" value="{{ reservation_max_days }}" class="mt-1 block w-full" />
        </div>
    </div>

    <div class="mt-6">
        <label class="block text-sm font-medium">Horaires d'ouverture (JSON)</label>
        <textarea name="opening_hours" rows="8" class="mt-1 block w-full font-mono text-sm">{{ opening_hours | tojson(indent=2) }}</textarea>
        <p class="text-xs text-gray-500 mt-1">Format JSON : clefs weekday (0=Monday) -> {"lunch": ["12:00","14:30"], "dinner": ["19:00","22:30"]}</p>
    </div>

    <div class="mt-6">
        <label class="block text-sm font-medium">Jours de fermeture exceptionnelle (liste, séparés par virgule, AAAA-MM-JJ)</label>
        <input type="text" name="closed_dates" value="{{ closed_dates }}" class="mt-1 block w-full" />
    </div>

    <h2 class="text-lg font-semibold mt-6">Coordonnées & Emails</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2">
        <div>
            <label class="block text-sm font-medium">Adresse</label>
            <input type="text" name="address" value="{{ address }}" class="mt-1 block w-full" />
        </div>
        <div>
            <label class="block text-sm font-medium">Téléphone</label>
            <input type="text" name="phone" value="{{ phone }}" class="mt-1 block w-full" />
        </div>
        <div>
            <label class="block text-sm font-medium">Email contact</label>
            <input type="email" name="contact_email" value="{{ contact_email }}" class="mt-1 block w-full" />
        </div>
        <div>
            <label class="block text-sm font-medium">Emails notifications (séparés par virgule)</label>
            <input type="text" name="notification_emails" value="{{ notification_emails }}" class="mt-1 block w-full" />
        </div>
    </div>

    <div class="mt-6">
        <button type="submit" class="px-4 py-2 bg-lagon-navy text-white rounded">Enregistrer</button>
    </div>
</form>
{% endblock %}
